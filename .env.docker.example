# Docker Compose Environment Variables Example
# Copy this file to both .env.backend and .env.frontend with appropriate values
# Or create separate .env.backend and .env.frontend files based on the specific examples

# =============================================================================
# AZURE OPENAI CONFIGURATION (Backend Only - Required for AI functionality)
# =============================================================================
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-01
AZURE_OPENAI_MAX_TOKENS=4000
AZURE_OPENAI_TEMPERATURE=0.7
AZURE_OPENAI_USE_MANAGED_IDENTITY=false
AZURE_OPENAI_CLIENT_ID=
AZURE_OPENAI_USE_USER_ASSIGNED_IDENTITY=false

# =============================================================================
# AZURE DEVOPS CONFIGURATION (Backend Only - Required)
# =============================================================================
AZURE_DEVOPS_ORGANIZATION=https://dev.azure.com/your-organization
AZURE_DEVOPS_PAT=your-personal-access-token

# =============================================================================
# MICROSOFT ENTRA ID CONFIGURATION (Both Frontend and Backend - Required)
# =============================================================================
# Azure tenant ID
AZURE_TENANT_ID=your-tenant-id-here

# Frontend client ID (for browser-based authentication)
AZURE_CLIENT_ID=your-frontend-client-id-here

# Backend API client ID (for backend API registration)
BACKEND_CLIENT_ID=your-backend-client-id-here

# Backend client secret (Backend Only)
AZURE_CLIENT_SECRET=your-client-secret-here

# OAuth scopes (comma-separated)
AZURE_SCOPES=openid,profile,User.Read

# =============================================================================
# SECURITY SETTINGS (Backend Only)
# =============================================================================
# Generate a secure random string (minimum 32 characters)
# Example: openssl rand -hex 32
JWT_SECRET_KEY=your-jwt-secret-key-32-chars-long-minimum
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# Disable authentication for local development (set to false to enable auth)
DISABLE_AUTH=true

# =============================================================================
# APPLICATION SETTINGS (Both Frontend and Backend)
# =============================================================================
ENVIRONMENT=development
DEBUG=true
ASPNETCORE_ENVIRONMENT=Development

# =============================================================================
# MONITORING CONFIGURATION (Both Frontend and Backend - Optional)
# =============================================================================
# Application Insights connection string
APPLICATIONINSIGHTS_CONNECTION_STRING=

# Enable telemetry (Frontend Only)
ENABLE_TELEMETRY=false

# =============================================================================
# SESSION SETTINGS (Frontend Only)
# =============================================================================
SESSION_TIMEOUT=3600
REQUIRE_HTTPS=false

# =============================================================================
# QUICK START INSTRUCTIONS
# =============================================================================
# 1. Copy this file to .env.backend and .env.frontend
#    cp .env.docker.example .env.backend
#    cp .env.docker.example .env.frontend
#
# 2. Update both files with your actual Azure configuration values:
#    - AZURE_OPENAI_ENDPOINT and AZURE_OPENAI_API_KEY (backend)
#    - AZURE_DEVOPS_ORGANIZATION and AZURE_DEVOPS_PAT (backend)
#    - AZURE_TENANT_ID (both)
#    - AZURE_CLIENT_ID (frontend)
#    - BACKEND_CLIENT_ID (both)
#    - AZURE_CLIENT_SECRET (backend)
#    - JWT_SECRET_KEY (backend) - generate with: openssl rand -hex 32
#
# 3. Start the services with Docker Compose:
#    docker-compose up --build
#
# 4. Access the application:
#    - Frontend: http://localhost:3000
#    - Backend API: http://localhost:8000
#    - API Docs: http://localhost:8000/docs (when auth is disabled)
#    - Backend Health: http://localhost:8000/health
#    - Frontend Health: http://localhost:3000/api/health
#
# 5. For development without authentication, keep DISABLE_AUTH=true
#
# 6. To stop the services:
#    docker-compose down
#
# 7. To rebuild after changes:
#    docker-compose up --build
