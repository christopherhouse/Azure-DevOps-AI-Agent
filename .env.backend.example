# Backend Environment Variables Example
# Copy this file to .env.backend and update with your actual values

# =============================================================================
# AZURE OPENAI CONFIGURATION (Required for AI functionality)
# =============================================================================
# Azure OpenAI service endpoint
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/

# Azure OpenAI API key (required if not using managed identity)
AZURE_OPENAI_API_KEY=your-api-key-here

# Azure OpenAI deployment name (the name of your GPT model deployment)
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# Azure OpenAI API version
AZURE_OPENAI_API_VERSION=2024-02-01

# Maximum tokens for chat completion (default: 4000)
AZURE_OPENAI_MAX_TOKENS=4000

# Temperature for chat completion, 0.0-1.0 (default: 0.7)
AZURE_OPENAI_TEMPERATURE=0.7

# Use managed identity for Azure OpenAI authentication (default: false for local)
AZURE_OPENAI_USE_MANAGED_IDENTITY=false

# Client ID for User Assigned Managed Identity (required when using UAMI)
AZURE_OPENAI_CLIENT_ID=

# Use User Assigned Managed Identity (default: false for local)
AZURE_OPENAI_USE_USER_ASSIGNED_IDENTITY=false

# =============================================================================
# AZURE DEVOPS CONFIGURATION (Required)
# =============================================================================
# Azure DevOps organization URL (e.g., https://dev.azure.com/your-organization)
AZURE_DEVOPS_ORGANIZATION=https://dev.azure.com/your-organization

# Azure DevOps Personal Access Token with appropriate permissions
# Required scopes: Project and Team (Read, Write), Work Items (Read, Write)
AZURE_DEVOPS_PAT=your-personal-access-token

# =============================================================================
# MICROSOFT ENTRA ID CONFIGURATION (Required for authentication)
# =============================================================================
# Azure tenant ID from your Entra ID
AZURE_TENANT_ID=your-tenant-id-here

# Backend API application (client) ID from Entra ID app registration
BACKEND_CLIENT_ID=your-backend-client-id-here

# Backend API client secret (if using client credentials flow)
AZURE_CLIENT_SECRET=your-client-secret-here

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# JWT secret key - generate a secure random string (minimum 32 characters)
# Example: openssl rand -hex 32
JWT_SECRET_KEY=your-jwt-secret-key-32-chars-long-minimum

# JWT signing algorithm (default: HS256)
JWT_ALGORITHM=HS256

# JWT token expiration time in minutes (default: 60)
JWT_EXPIRE_MINUTES=60

# Disable authentication for local development/testing (default: true for local)
# Set to false to enable authentication
DISABLE_AUTH=true

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Environment name (development, staging, production)
ENVIRONMENT=development

# Enable debug mode (true/false)
DEBUG=true

# ASP.NET Core environment
ASPNETCORE_ENVIRONMENT=Development

# =============================================================================
# MONITORING CONFIGURATION (Optional)
# =============================================================================
# Application Insights connection string for telemetry and monitoring
# Leave empty to disable Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=

# =============================================================================
# NOTES
# =============================================================================
# 1. For local development with Docker Compose, set DISABLE_AUTH=true to skip authentication
# 2. Backend will be accessible at http://localhost:8000
# 3. API documentation available at http://localhost:8000/docs (when auth is disabled)
# 4. Health check endpoint: http://localhost:8000/health
# 5. For managed identity, ensure AZURE_OPENAI_USE_MANAGED_IDENTITY=true and provide AZURE_OPENAI_CLIENT_ID
